# Enable URL rewriting if mod_rewrite is available
<IfModule mod_rewrite.c>
    RewriteEngine On
    
    Options -Indexes

    # --- Allow assets through directly ---
    RewriteCond %{REQUEST_URI} ^/public/assets/ [NC]
    RewriteRule ^ - [L]

    # Redirect localhost and localhost/ to localhost/home
    RewriteCond %{HTTP_HOST} ^localhost$ [NC]
    RewriteRule ^(|/)$ /home [R=301,L]

    # Redirect root URL (e.g., http://example.com or http://example.com/) to index.php
    RewriteCond %{REQUEST_URI} ^/$
    RewriteRule ^ public/index.php [L]

    # All other requests that are not real files or dirs -> index.php
    RewriteCond %{REQUEST_FILENAME} !-f
    RewriteCond %{REQUEST_FILENAME} !-d
    RewriteRule ^ public/index.php [L]
</IfModule>

# Handle compression if mod_deflate is available
<IfModule mod_deflate.c>
    AddOutputFilterByType DEFLATE text/html text/css text/javascript application/javascript application/json application/xml font/woff font/woff2
</IfModule>
